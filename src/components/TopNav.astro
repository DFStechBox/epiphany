---
import NavItem from "./NavItem.astro";
import { Image } from 'astro:assets';
import eds from '../assets/images/eds-s.png'

const navItems = [
{href: "/", label: "Home"},
{href: "about", label: "About Elaine"},
{href: "books", label: "Books"},
{href: "contact", label: "Contact"},
]
---

<section class="nav-section bg-heroBgYellow">

        <!-- DESKTOP NAVIGATION START -->
      <nav
        class="relative px-6 py-6 flex justify-between items-center w-3/4 mx-auto my-auto"
      >
        <!-- eds icon -->
        <a class="" href="/">
          <Image src={eds} alt="eds-logo" width="80" height="100">
        </a>

        <!-- mobile menue hamburger icon -->
        <div class="lg:hidden">
          <button class="navbar-burger flex items-center text-green-600 p-3 ">
            <svg
              class="block h-4 w-4 fill-current"
              viewBox="0 0 20 20"
              xmlns="http://www.w3.org/2000/svg"
            >
              <title>Mobile menu</title>
              <path d="M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"></path>
            </svg>
          </button>
        </div>
        <!--  -->

          <!-- desktop menue items -->
        <ul
          class="hidden absolute top-1/2 left-1/2 transform -translate-y-1/2 -translate-x-1/2 lg:flex lg:mx-auto lg:items-center lg:w-auto lg:space-x-6"
        >
          <NavItem href="/" label="Home" />
          <NavItem href="about" label="About Elaine" />
          <NavItem href="books" label="Books" />
          <NavItem href="contact" label="Contact" />
        </ul>
      </nav>
      <!-- end -->

      <!-- MOBILE NAVIGATION START -->
      <div
        class="hidden navbar-menu fixed top-0 left-0 bottom-0 w-1/5 z-50 bg-bgYellow"
      >
        <div class="navbar-backdrop fixed inset-0 opacity-25"></div>
        <nav
          class="relative flex flex-col py-6 px-6 h-full w-full bg-white border-r overflow-y-auto"
        >
          <div class="flex flex-col items-center mb-8">

            <!-- mobile nav close button -->
            <button class="navbar-close">
              <svg
                class="h-6 w-6 text-gray-400 cursor-pointer hover:text-gray-500"
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M6 18L18 6M6 6l12 12"></path>
              </svg>
              Close
            </button>
            <!--  -->

            <!-- mobile nav eds icon -->
            <a class="m-auto text-3xl font-bold leading-none mt-8" href="/">
              <Image src={eds} alt="eds-logo" width="80" height="100">
            </a>
            <!--  -->

            
          </div>

          <!-- Mobile Nav menu items -->
          <div class="text-center">
            <ul>
              <NavItem href="/" label="Home" mobile/>
              <NavItem href="about" label="About Elaine" mobile/>
              <NavItem href="books" label="Books" mobile/>
              <NavItem href="contact" label="Contact" mobile/>
            </ul>
          </div>
          <div class="mt-auto">
            <!--  -->

            <!-- copyright -->
            <p class="my-4 text-xs text-center text-gray-400">
              <span>Â© 2020 All rights reserved.</span>
            </p>
          </div>
        </nav>
      </div>
    </section>

    <script>
      document.addEventListener("DOMContentLoaded", (event) => {
        const burger = document.querySelector<HTMLButtonElement>('.navbar-burger')
        const menu = document.querySelector<HTMLDivElement>('.navbar-menu')
        const backdrop = document.querySelector<HTMLDivElement>('.navbar-backdrop')
        const closeBtn = document.querySelector<HTMLButtonElement>('.navbar-close')

        function toggleMenue() {
          menu?.classList.toggle('hidden')
        }

        burger?.addEventListener('click', toggleMenue);
        backdrop?.addEventListener('click', toggleMenue);
        closeBtn?.addEventListener('click', toggleMenue);

      });
    </script>